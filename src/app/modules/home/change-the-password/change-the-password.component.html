<div class="forgot">
  <h2 class="text-center">Đổi mật khẩu</h2>
</div>
<form [formGroup]="changeThePassw" class="card mt-4">
  <div class="card-body">
    <div class="form-group">
      <label for="email-for-pass">Mật khẩu hiện tại</label>
      <input
        mdbInput
        mdbValidate
        class="form-control"
        id="password"
        formControlName="password"
        type="password"
        id="email-for-pass"
      />
      <mat-error
        class="alert-danger"
        *ngIf="
          !changeThePassw.get('password').valid &&
          changeThePassw.get('password').touched
        "
      >
        Mật khẩu phải ít nhất 8 kí tự bao gồm chữ số và ký tự</mat-error
      >
    </div>
    <div class="form-group">
      <label for="password">Mật khẩu mới</label>
      <input
        mdbInput
        mdbValidate
        class="form-control"
        id="newPassword"
        formControlName="newPassword"
        type="password"
        id="email-for-pass"
      />
      <mat-error
        class="alert-danger"
        *ngIf="changeThePassw.controls.newPassword.errors?.pattern && changeThePassw.touched"
      >
        Mật khẩu phải ít nhất 8 kí tự bao gồm chữ số và ký tự
      </mat-error>
      <br />
      <mat-error
        class="alert-danger"
        *ngIf="
          changeThePassw.controls.password.value ===
            changeThePassw.controls.newPassword.value &&
          changeThePassw.get('newPassword').touched
        "
      >
        Mật khẩu hiện tại không được trùng với mật khẩu mới
      </mat-error>
    </div>
    <div class="form-group">
      <label for="email-for-pass">Nhập lại mật khẩu mới</label>
      <input
        mdbInput
        mdbValidate
        class="form-control"
        id="confirmNewPassword"
        formControlName="confirmNewPassword"
        type="password"
        id="email-for-pass"
      />
      <br />
      <mat-error
        class="alert-danger"
        *ngIf="
          changeThePassw.controls.newPassword.value !==
            changeThePassw.controls.confirmNewPassword.value &&
          changeThePassw.get('confirmNewPassword').touched
        "
      >
        Mật khẩu không trùng khớp
      </mat-error>
      <br/>
      <mat-error
        class="alert-danger"
        *ngIf="
          !changeThePassw.get('confirmNewPassword').valid &&
          changeThePassw.get('confirmNewPassword').touched
        "
      >
        Mật khẩu phải ít nhất 8 kí tự bao gồm chữ số và ký tự</mat-error
      >
    </div>
  </div>
  <div class="card-footer">
    <button
      class="btn btn-success"
      data-bs-toggle="modal"
      type="button"
      [disabled]="!this.changeThePassw.valid"
      (click)="changeThePass()"
    >
      Submit
    </button>
    <button (click)="clearForm()" class="btn btn-danger ml-3" type="submit">
      Clear
    </button>
  </div>
</form>
